{"version":3,"file":"filterfieldsreload.min.js","sources":["../src/filterfieldsreload.js"],"sourcesContent":["import Ajax from 'core/ajax';\n\n/**\n * Initialise it all.\n */\nexport const init = () => {\n    const observeDOMChanges = (callback) => {\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                if (mutation.addedNodes) {\n                    mutation.addedNodes.forEach((node) => {\n                        if (node instanceof HTMLElement && node.querySelector('[name=\"wbfilterclass\"]')) {\n                            callback(node.querySelector('[name=\"wbfilterclass\"]'));\n                        }\n                    });\n                }\n            });\n        });\n        observer.observe(document.body, {childList: true, subtree: true});\n    };\n\n    observeDOMChanges((dropdown) => {\n        dropdown.addEventListener('change', (event) => {\n            const selectedValue = event.target.value;\n            Ajax.call([{\n                methodname: 'local_wunderbyte_table_get_filter_fields',\n                args: {filtertype: selectedValue},\n                done: (response) => {\n                    const filteradd = document.getElementById('filter-add-field');\n                    if (filteradd && response.filteraddfields) {\n                        filteradd.innerHTML = response.filteraddfields;\n                    }\n                },\n                fail: (error) => {\n                    // eslint-disable-next-line no-console\n                    console.error('Web service error:', error);\n                }\n            }]);\n        });\n    });\n};"],"names":["callback","dropdown","addEventListener","event","selectedValue","target","value","call","methodname","args","filtertype","done","response","filteradd","document","getElementById","filteraddfields","innerHTML","fail","error","console","MutationObserver","mutations","forEach","mutation","addedNodes","node","HTMLElement","querySelector","observe","body","childList","subtree"],"mappings":"4PAKoB,KACWA,IAAAA,SAAAA,SAeRC,WACfA,SAASC,iBAAiB,UAAWC,cAC3BC,cAAgBD,MAAME,OAAOC,oBAC9BC,KAAK,CAAC,CACPC,WAAY,2CACZC,KAAM,CAACC,WAAYN,eACnBO,KAAOC,iBACGC,UAAYC,SAASC,eAAe,oBACtCF,WAAaD,SAASI,kBACtBH,UAAUI,UAAYL,SAASI,kBAGvCE,KAAOC,QAEHC,QAAQD,MAAM,qBAAsBA,eA5B/B,IAAIE,kBAAkBC,YACnCA,UAAUC,SAASC,WACXA,SAASC,YACTD,SAASC,WAAWF,SAASG,OACrBA,gBAAgBC,aAAeD,KAAKE,cAAc,2BAClD5B,SAAS0B,KAAKE,cAAc,oCAMvCC,QAAQf,SAASgB,KAAM,CAACC,WAAW,EAAMC,SAAS"}