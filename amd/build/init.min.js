define ("local_wunderbyte_table/init",["exports","core/ajax"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.replacePaginationLinks=a.replaceResetTableLink=a.replaceSortColumnLinks=a.callLoadData=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);a.init=function init(a){c(a)};var c=function(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null,i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:null,j=5<arguments.length&&arguments[5]!==void 0?arguments[5]:null,k=6<arguments.length&&arguments[6]!==void 0?arguments[6]:null,l=document.getElementById(a),m=document.getElementById(a+m),n=l.getAttribute("data-encodedtable");b.default.call([{methodname:"local_wunderbyte_table_load_data",args:{encodedtable:n,page:c,tsort:g,thide:h,tshow:i,tdir:j,treset:k},done:function done(b){var c=document.createRange().createContextualFragment(b.content);e(a,c);f(a,c);d(a,c);var g=document.getElementById(a);while(g.firstChild){g.removeChild(g.lastChild)}g.appendChild(c)},fail:function fail(){l.removeClass("hidden")}}])};a.callLoadData=c;var d=function(a,b){var d=b.querySelectorAll("th.header a");d.forEach(function(b){var d=b.getAttribute("data-sortby"),e=b.getAttribute("data-sortorder"),f="hide"==b.getAttribute("data-action")?b.getAttribute("data-column"):null,g="show"==b.getAttribute("data-action")?b.getAttribute("data-column"):null;b.setAttribute("href","#");b.addEventListener("click",function(){c(a,null,d,f,g,e)})})};a.replaceSortColumnLinks=d;var e=function(a,b){var d=b.querySelectorAll("div.resettable");if(!d||0==d.length){return}d.forEach(function(b){var d=b.getAttribute("class");if(0<=d.indexOf("resettable")){var e=b.querySelectorAll("a");e.forEach(function(b){b.setAttribute("href","#");b.addEventListener("click",function(){c(a,null,null,null,null,null,1)})})}})};a.replaceResetTableLink=e;var f=function(a,b){var d=b.querySelectorAll(".page-item");if(!d||0==d.length){return}d.forEach(function(b){var d=b.querySelector("a"),e=d.getAttribute("href"),f;if(e!=void 0&&"#"!=e){var g=new URL(e),h=new URLSearchParams(g.search);f=h.get("page")}d.setAttribute("href","#");if(f){d.addEventListener("click",function(){c(a,f)})}})};a.replacePaginationLinks=f});
//# sourceMappingURL=init.min.js.map
