define ("local_wunderbyte_table/init",["exports","core/ajax"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.replacePaginationLinks=a.replaceResetTableLink=a.replaceSortColumnLinks=a.callLoadData=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);function c(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function d(a){return function(){var b=this,d=arguments;return new Promise(function(e,f){var i=a.apply(b,d);function g(a){c(i,e,f,g,h,"next",a)}function h(a){c(i,e,f,g,h,"throw",a)}g(void 0)})}}a.init=function init(a){i("#a"+a).then(function(){e(a)})};var e=function(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null,i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:null,j=5<arguments.length&&arguments[5]!==void 0?arguments[5]:null,k=6<arguments.length&&arguments[6]!==void 0?arguments[6]:null,l=document.getElementById("a"+a),m=document.querySelector("#a"+a+"spinner .spinner-border");m.classList.toggle("hidden");l.classList.toggle("hidden");var n=l.getAttribute("data-encodedtable");b.default.call([{methodname:"local_wunderbyte_table_load_data",args:{encodedtable:n,page:c,tsort:d,thide:e,tshow:i,tdir:j,treset:k},done:function done(b){var c=document.createRange().createContextualFragment(b.content);g(a,c);h(a,c);f(a,c);var d=document.getElementById("a"+a);while(d.firstChild){d.removeChild(d.lastChild)}d.appendChild(c);m.classList.toggle("hidden");d.classList.toggle("hidden")},fail:function fail(){alert("fail")}}])};a.callLoadData=e;var f=function(a,b){var c=b.querySelectorAll("th.header a");c.forEach(function(b){var c=b.getAttribute("data-sortby"),d=b.getAttribute("data-sortorder"),f="hide"==b.getAttribute("data-action")?b.getAttribute("data-column"):null,g="show"==b.getAttribute("data-action")?b.getAttribute("data-column"):null;b.setAttribute("href","#");b.addEventListener("click",function(){e(a,null,c,f,g,d)})})};a.replaceSortColumnLinks=f;var g=function(a,b){var c=b.querySelectorAll("div.resettable");if(!c||0==c.length){return}c.forEach(function(b){var c=b.getAttribute("class");if(0<=c.indexOf("resettable")){var d=b.querySelectorAll("a");d.forEach(function(b){b.setAttribute("href","#");b.addEventListener("click",function(){e(a,null,null,null,null,null,1)})})}})};a.replaceResetTableLink=g;var h=function(a,b){var c=b.querySelectorAll(".page-item");if(!c||0==c.length){return}c.forEach(function(b){var c=b.querySelector("a"),d=c.getAttribute("href"),f;if(d!=void 0&&"#"!=d){var g=new URL(d),h=new URLSearchParams(g.search);f=h.get("page")}c.setAttribute("href","#");if(f){c.addEventListener("click",function(){e(a,f)})}})};a.replacePaginationLinks=h;var i=function(){var a=d(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:if(!(null===document.querySelector(b))){a.next=5;break}a.next=3;return new Promise(function(a){return requestAnimationFrame(a)});case 3:a.next=0;break;case 5:return a.abrupt("return",document.querySelector(b));case 6:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}()});
//# sourceMappingURL=init.min.js.map
