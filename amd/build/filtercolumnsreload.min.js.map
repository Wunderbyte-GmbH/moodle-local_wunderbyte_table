{"version":3,"file":"filtercolumnsreload.min.js","sources":["../src/filtercolumnsreload.js"],"sourcesContent":["import Ajax from 'core/ajax';\n\n/** @param {string} encodedtable */\nexport const init = (encodedtable) => {\n    const observeDOMChanges = (callback) => {\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                if (mutation.addedNodes) {\n                    mutation.addedNodes.forEach((node) => {\n                        if (node instanceof HTMLElement && node.querySelector('[name=\"filter_columns\"]')) {\n                            callback(node.querySelector('[name=\"filter_columns\"]'));\n                        }\n                    });\n                }\n            });\n        });\n        observer.observe(document.body, {childList: true, subtree: true});\n    };\n    observeDOMChanges((dropdown) => {\n        dropdown.addEventListener('change', (event) => {\n            const selectedValue = event.target.value;\n            Ajax.call([{\n                methodname: 'local_wunderbyte_table_get_filter_column_data',\n                args: {\n                    filtercolumn: selectedValue,\n                    encodedtable: encodedtable\n                },\n                done: (response) => {\n                    const filteredit = document.getElementById('filter-edit-fields');\n                    if (filteredit && response.filtereditfields) {\n                        filteredit.innerHTML = response.filtereditfields;\n                    }\n                    const filteradd = document.getElementById('filter-add-field');\n                    if (filteradd && response.filteraddfields) {\n                        filteradd.innerHTML = response.filteraddfields;\n                    }\n                },\n                fail: (error) => {\n                    // eslint-disable-next-line no-console\n                    console.error('Web service error:', error);\n                }\n            }]);\n        });\n    });\n};"],"names":["encodedtable","callback","dropdown","addEventListener","event","selectedValue","target","value","call","methodname","args","filtercolumn","done","response","filteredit","document","getElementById","filtereditfields","innerHTML","filteradd","filteraddfields","fail","error","console","MutationObserver","mutations","forEach","mutation","addedNodes","node","HTMLElement","querySelector","observe","body","childList","subtree"],"mappings":"6PAGqBA,eACUC,IAAAA,SAAAA,SAcRC,WACfA,SAASC,iBAAiB,UAAWC,cAC3BC,cAAgBD,MAAME,OAAOC,oBAC9BC,KAAK,CAAC,CACPC,WAAY,gDACZC,KAAM,CACFC,aAAcN,cACdL,aAAcA,cAElBY,KAAOC,iBACGC,WAAaC,SAASC,eAAe,sBACvCF,YAAcD,SAASI,mBACvBH,WAAWI,UAAYL,SAASI,wBAE9BE,UAAYJ,SAASC,eAAe,oBACtCG,WAAaN,SAASO,kBACtBD,UAAUD,UAAYL,SAASO,kBAGvCC,KAAOC,QAEHC,QAAQD,MAAM,qBAAsBA,eAlC/B,IAAIE,kBAAkBC,YACnCA,UAAUC,SAASC,WACXA,SAASC,YACTD,SAASC,WAAWF,SAASG,OACrBA,gBAAgBC,aAAeD,KAAKE,cAAc,4BAClD9B,SAAS4B,KAAKE,cAAc,qCAMvCC,QAAQjB,SAASkB,KAAM,CAACC,WAAW,EAAMC,SAAS"}