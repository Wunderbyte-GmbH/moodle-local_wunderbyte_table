define("local_wunderbyte_table/reload",["exports","local_wunderbyte_table/init","local_wunderbyte_table/filter","local_wunderbyte_table/search","local_wunderbyte_table/sort"],(function(_exports,_init,_filter,_search,_sort){function wbTableReload(idstringplusa,encodedtable){let rowid=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const idstring=idstringplusa.substring(1);let filterobjects=(0,_filter.getFilterObjects)(idstring);if(rowid>0){let filterobject={};0!==filterobjects.length&&(filterobject=JSON.parse(filterobjects)),filterobject.id=[rowid],filterobjects=JSON.stringify(filterobject)}const replacerow=rowid>0,searchstring=(0,_search.getSearchInput)(idstring),sort=(0,_sort.getSortSelection)(idstring);(0,_init.callLoadData)(idstring,encodedtable,0,null,sort,null,null,null,filterobjects,searchstring,replacerow)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.initializeReload=
/**
   * @module    local_wunderbyte_table
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
function(selector,idstring,encodedtable){const button=document.querySelector(selector+" .wb_reload_button");if(!button)return;const idstringplusa="a"+idstring;button.addEventListener("click",(()=>{wbTableReload(idstringplusa,encodedtable)}))},_exports.reloadAllTables=function(){let scrollToTabletop=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(const[key,value]of Object.entries(_init.queries))if((0,_init.infinitescrollEnabled)(value.idstring)){let counter=0;for(;counter<=value.page;)(0,_init.callLoadData)(value.idstring,value.encodedtable,counter,value.tsort,value.thide,value.tshow,value.tdir,value.treset,value.filterobjects,value.searchtext,value.replacerow,null,scrollToTabletop),counter++}else(0,_init.callLoadData)(value.idstring,value.encodedtable,value.page,value.tsort,value.thide,value.tshow,value.tdir,value.treset,value.filterobjects,value.searchtext,value.replacerow,null,scrollToTabletop)},_exports.wbTableReload=wbTableReload,_exports.wbTableRowReload=function(element){let parentelement=element,rowid=null;for(;!parentelement.classList.contains("wunderbyteTableClass")&&(!rowid&&parentelement.dataset.id&&(rowid=parentelement.dataset.id),parentelement=parentelement.parentElement,parentelement););if(parentelement){const idstring=parentelement.getAttribute("id"),encodedtable=parentelement.dataset.encodedtable;wbTableReload(idstring,encodedtable,rowid)}}}));

//# sourceMappingURL=reload.min.js.map