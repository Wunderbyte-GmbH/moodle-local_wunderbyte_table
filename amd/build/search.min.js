define ("local_wunderbyte_table/search",["exports","core/templates"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.renderSearchbox=a.renderFilter=a.setVisibility=a.getChecked=a.toggleCheckbox=a.searchInput=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var e={},f=[],g=[],h="",i="",j="",k=function(a,b,c){console.log(i,b,c);h=b;i=a;j=c};a.init=k;var l=function(b,c,d){var e,f,g,h,j;e=b.value.toUpperCase();console.log(e);f=document.querySelectorAll(c);console.log(f);for(h=0;h<f.length;h++){if(d){g=f[h].querySelector(d)}else{g=f[h]}j=g.textContent||g.innerText;console.log(j);if(-1<j.toUpperCase().indexOf(e)){f[h].style.display=""}else{f[h].style.display="none"}}};a.searchInput=l;var m=function(a){n(a.target.name);o()};a.toggleCheckbox=m;var n=function(a){e[a]=Array.from(document.querySelectorAll("input[name="+a+"]:checked")).map(function(a){return a.value});console.log("checked",e)};a.getChecked=n;var o=function(){console.log(f);g.forEach(function(a){var b=!0;f.forEach(function(d){var c=e[d].length?Array.from(Object.values(a.dataset)).filter(function(a){return e[d].includes(a)}).length:!0;if(!c){b=!1}});if(b){a.style.display="block"}else{a.style.display="none"}})};a.setVisibility=o;var p=function(a,c){console.log("filterjson",a);b.default.renderForPromise("local_wunderbyte_table/filter",a).then(function(a){var b=a.html;console.log("renderFilter",b);var e=".wunderbyte_table_container_"+c;console.log("selector",e);var f=document.querySelector(e);console.log(f);f.insertAdjacentHTML("afterbegin",b);d(e)}).catch(function(a){console.log(a)})};a.renderFilter=p;var q=function(a){b.default.renderForPromise("local_wunderbyte_table/search").then(function(b){var d=b.html;console.log("renderSearchbox",d);var e=".wunderbyte_table_container_"+a;console.log("selector",e);var f=document.querySelector(e);console.log(f);f.insertAdjacentHTML("afterbegin",d);c(e)}).catch(function(a){console.log(a)})};a.renderSearchbox=q;function c(){var a=document.querySelector(i+" input.search");if(!a){return}a.addEventListener("keyup",function(){l(a,h,j)})}function d(a){console.log("initializeCheckboxes ");var b=document.querySelector(a),c=b.querySelectorAll("input[type=checkbox]");if(!c){return}console.log("allCheckboxes ",c);b.querySelectorAll(".form-group").forEach(function(a){f.push(a.getAttribute("name"));n(a.getAttribute("name"))});c.forEach(function(a){a.addEventListener("change",m)});g=b.querySelectorAll(h)}});
//# sourceMappingURL=search.min.js.map
