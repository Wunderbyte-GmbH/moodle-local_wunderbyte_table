define ("local_wunderbyte_table/search",["exports","core/templates"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.renderFilter=a.setVisibility=a.getChecked=a.toggleCheckbox=a.searchInput=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var d={},f=[],g=[];a.init=function init(a,b,c){console.log(a,b,c);var d=document.querySelector(a+" input.search");if(!d){return}d.addEventListener("keyup",function(){h(d,b,c)});var e=document.querySelector(a);console.log("listContainer ",e);var f=e.querySelector("input[type=checkbox]");if(!f){}};function c(a){console.log("initializeCheckboxes ");var b=document.querySelector(a),c=b.querySelectorAll("input[type=checkbox]");if(!c){return}console.log("allCheckboxes ",c);b.querySelectorAll(".form-group").forEach(function(a){f.push(a.getAttribute("name"));j(a.getAttribute("name"))});c.forEach(function(a){a.addEventListener("change",i)})}var h=function(b,c,d){var e,f,g,h,j;e=b.value.toUpperCase();console.log(e);f=document.querySelectorAll(c);console.log(f);for(h=0;h<f.length;h++){if(d){g=f[h].querySelector(d)}else{g=f[h]}j=g.textContent||g.innerText;console.log(j);if(-1<j.toUpperCase().indexOf(e)){f[h].style.display=""}else{f[h].style.display="none"}}};a.searchInput=h;var i=function(a){j(a.target.name);k()};a.toggleCheckbox=i;var j=function(a){d[a]=Array.from(document.querySelectorAll("input[name="+a+"]:checked")).map(function(a){return a.value})};a.getChecked=j;var k=function(){console.log(f);g.forEach(function(a){var b=!0;f.forEach(function(e){console.log(a.classList);var c=d[e].length?Array.from(Object.values(a.dataset)).filter(function(a){return d[e].includes(a)}).length:!0;if(!c){b=!1}});if(b){a.style.display="block"}else{a.style.display="none"}})};a.setVisibility=k;var l=function(a,d){console.log("filterjson",a);b.default.renderForPromise("local_wunderbyte_table/filter",a).then(function(a){var b=a.html;console.log("renderFilter",b);var e=".wunderbyte_table_container_"+d;console.log("selector",e);var f=document.querySelector(e);console.log(f);f.insertAdjacentHTML("afterbegin",b);c(e)}).catch(function(a){console.log(a)})};a.renderFilter=l});
//# sourceMappingURL=search.min.js.map
