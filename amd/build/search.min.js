define ("local_wunderbyte_table/search",["exports","core/templates"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.renderSearchbox=a.renderFilter=a.setVisibility=a.getChecked=a.toggleCheckbox=a.searchInput=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var e={},f=[],g=[],h="",i="",j="";a.init=function init(a,b,c){h=b;i=a;j=c};var k=function(b,c,d){var e,f,g,h,j;e=b.value.toUpperCase();f=document.querySelectorAll(c);for(h=0;h<f.length;h++){if(d){g=f[h].querySelector(d)}else{g=f[h]}j=g.textContent||g.innerText;if(-1<j.toUpperCase().indexOf(e)){f[h].style.display=""}else{f[h].style.display="none"}}};a.searchInput=k;var l=function(a){m(a.target.name);n()};a.toggleCheckbox=l;var m=function(a){e[a]=Array.from(document.querySelectorAll("input[name="+a+"]:checked")).map(function(a){return a.value})};a.getChecked=m;var n=function(){g.forEach(function(a){var b=!0;f.forEach(function(d){var c=e[d].length?Array.from(Object.values(a.dataset)).filter(function(a){return e[d].includes(a)}).length:!0;if(!c){b=!1}});if(b){a.style.display="block"}else{a.style.display="none"}})};a.setVisibility=n;var o=function(a,c){b.default.renderForPromise("local_wunderbyte_table/filter",a).then(function(a){var b=a.html,e=".wunderbyte_table_container_"+c,f=document.querySelector(e);f.insertAdjacentHTML("afterbegin",b);d(e)}).catch(function(a){console.log(a)})};a.renderFilter=o;var p=function(a){b.default.renderForPromise("local_wunderbyte_table/search",[]).then(function(b){var d=b.html,e=".wunderbyte_table_container_"+a,f=document.querySelector(e);f.insertAdjacentHTML("afterbegin",d);c(e)}).catch(function(a){console.log(a)})};a.renderSearchbox=p;function c(){var a=document.querySelector(i+" input.search");if(!a){return}a.addEventListener("keyup",function(){k(a,h,j)})}function d(a){var b=document.querySelector(a),c=b.querySelectorAll("input[type=checkbox]");g=document.querySelectorAll(a+" "+h);if(!c){return}b.querySelectorAll(".form-group").forEach(function(a){f.push(a.getAttribute("name"));m(a.getAttribute("name"))});c.forEach(function(a){a.addEventListener("change",l)})}});
//# sourceMappingURL=search.min.js.map
